import{S as C,i as F,s as $,k as v,l as y,m as b,h as d,n as p,b as h,G as w,t as P,d as z,f as T,H as A,L as J,M as L,N as Q,g as U,B as W,O as Z,q as I,r as S,u as N,a as O,c as R,P as K,I as B,Q as X,e as D,R as x,J as ee}from"../../../chunks/index-a6bf3c7d.js";import{w as te}from"../../../chunks/index-e8e374df.js";var Y;const ie=((Y=window==null?void 0:window.localStorage)==null?void 0:Y.getItem("story_id"))??"1",E=te(ie);E.subscribe(o=>{window==null||window.localStorage.setItem("story_id",o),console.log(o)});let le=[{id:"1",message:"Begin the adventure of rollin'.",img:"prison cell.png",choices:[{id:"2",text:"Begin"}]},{id:"2",message:"Otis is planing to escape jail, what will you do?",img:"prison cell.png",choices:[{id:"3",text:"snitch"},{id:"4",text:"join in"}]},{id:"3",message:"Wrong! Try again!",img:"choice.jpeg",choices:[{id:"4",text:"Other right"},{id:"4",text:"Right"}]},{id:"4",message:"不不不不不",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://giphy.com/embed/uhYPkjP03h9RvVdazZ/video" width="480"></iframe></div>',choices:[{id:"1",text:"Reset!"}]}];function se(o){const e=o-1;return e*e*e+1}function M(o,{delay:e=0,duration:l=400,easing:s=se,x:t=0,y:i=0,opacity:c=0}={}){const n=getComputedStyle(o),a=+n.opacity,f=n.transform==="none"?"":n.transform,g=a*(1-c);return{delay:e,duration:l,easing:s,css:(_,r)=>`
			transform: ${f} translate(${(1-_)*t}px, ${(1-_)*i}px);
			opacity: ${a-g*r}`}}function j(o,e,l){const s=o.slice();return s[4]=e[l],s}function re(o){let e,l,s,t;return{c(){e=v("p"),l=I("STORY FOR ID "),s=I(o[0]),t=I(" MISSING")},l(i){e=y(i,"P",{});var c=b(e);l=S(c,"STORY FOR ID "),s=S(c,o[0]),t=S(c," MISSING"),c.forEach(d)},m(i,c){h(i,e,c),w(e,l),w(e,s),w(e,t)},p(i,c){c&1&&N(s,i[0])},d(i){i&&d(e)}}}function ae(o){let e,l,s,t=o[1].message+"",i,c,n,a=o[1].img&&G(o),f=o[1].html&&V(o),g=o[1].choices,_=[];for(let r=0;r<g.length;r+=1)_[r]=q(j(o,g,r));return{c(){a&&a.c(),e=O(),f&&f.c(),l=O(),s=v("p"),i=I(t),c=O(),n=v("div");for(let r=0;r<_.length;r+=1)_[r].c();this.h()},l(r){a&&a.l(r),e=R(r),f&&f.l(r),l=R(r),s=y(r,"P",{});var m=b(s);i=S(m,t),m.forEach(d),c=R(r),n=y(r,"DIV",{class:!0});var u=b(n);for(let k=0;k<_.length;k+=1)_[k].l(u);u.forEach(d),this.h()},h(){p(n,"class","row svelte-hiybd4")},m(r,m){a&&a.m(r,m),h(r,e,m),f&&f.m(r,m),h(r,l,m),h(r,s,m),w(s,i),h(r,c,m),h(r,n,m);for(let u=0;u<_.length;u+=1)_[u].m(n,null)},p(r,m){if(r[1].img?a?a.p(r,m):(a=G(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),r[1].html?f?f.p(r,m):(f=V(r),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),m&2&&t!==(t=r[1].message+"")&&N(i,t),m&6){g=r[1].choices;let u;for(u=0;u<g.length;u+=1){const k=j(r,g,u);_[u]?_[u].p(k,m):(_[u]=q(k),_[u].c(),_[u].m(n,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=g.length}},d(r){a&&a.d(r),r&&d(e),f&&f.d(r),r&&d(l),r&&d(s),r&&d(c),r&&d(n),K(_,r)}}}function G(o){let e,l,s;return{c(){e=v("img"),this.h()},l(t){e=y(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){B(e.src,l=o[1].img)||p(e,"src",l),p(e,"alt",s=o[1].message),p(e,"class","svelte-hiybd4")},m(t,i){h(t,e,i)},p(t,i){i&2&&!B(e.src,l=t[1].img)&&p(e,"src",l),i&2&&s!==(s=t[1].message)&&p(e,"alt",s)},d(t){t&&d(e)}}}function V(o){let e,l=o[1].html+"",s;return{c(){e=new X(!1),s=D(),this.h()},l(t){e=x(t,!1),s=D(),this.h()},h(){e.a=s},m(t,i){e.m(l,t,i),h(t,s,i)},p(t,i){i&2&&l!==(l=t[1].html+"")&&e.p(l)},d(t){t&&d(s),t&&e.d()}}}function q(o){let e,l=o[4].text+"",s,t,i;function c(){return o[3](o[4])}return{c(){e=v("button"),s=I(l)},l(n){e=y(n,"BUTTON",{});var a=b(e);s=S(a,l),a.forEach(d)},m(n,a){h(n,e,a),w(e,s),t||(i=ee(e,"click",c),t=!0)},p(n,a){o=n,a&2&&l!==(l=o[4].text+"")&&N(s,l)},d(n){n&&d(e),t=!1,i()}}}function H(o){let e,l,s,t;function i(a,f){return a[1]?ae:re}let c=i(o),n=c(o);return{c(){e=v("div"),n.c(),this.h()},l(a){e=y(a,"DIV",{class:!0});var f=b(e);n.l(f),f.forEach(d),this.h()},h(){p(e,"class","container svelte-hiybd4")},m(a,f){h(a,e,f),n.m(e,null),t=!0},p(a,f){c===(c=i(a))&&n?n.p(a,f):(n.d(1),n=c(a),n&&(n.c(),n.m(e,null)))},i(a){t||(a&&J(()=>{s&&s.end(1),l=L(e,M,{x:800,duration:750}),l.start()}),t=!0)},o(a){l&&l.invalidate(),a&&(s=Q(e,M,{x:-800,duration:750})),t=!1},d(a){a&&d(e),n.d(),a&&s&&s.end()}}}function oe(o){let e,l,s=o[0],t=H(o);return{c(){e=v("main"),l=v("div"),t.c(),this.h()},l(i){e=y(i,"MAIN",{class:!0});var c=b(e);l=y(c,"DIV",{class:!0});var n=b(l);t.l(n),n.forEach(d),c.forEach(d),this.h()},h(){p(l,"class","grid svelte-hiybd4"),p(e,"class","svelte-hiybd4")},m(i,c){h(i,e,c),w(e,l),t.m(l,null)},p(i,[c]){c&1&&$(s,s=i[0])?(U(),P(t,1,1,W),z(),t=H(i),t.c(),T(t,1),t.m(l,null)):t.p(i,c)},i(i){T(t)},o(i){P(t)},d(i){i&&d(e),t.d(i)}}}function ne(o,e,l){let s,t,i;A(o,E,n=>l(2,i=n));const c=n=>{Z(E,i=n.id,i)};return o.$$.update=()=>{o.$$.dirty&4&&l(0,s=i),o.$$.dirty&1&&l(1,t=le.find(n=>n.id==s))},[s,t,i,c]}class _e extends C{constructor(e){super(),F(this,e,ne,oe,$,{})}}export{_e as default};
